{%extends "base.html"%}

{%block head%} 
    <title>Adicionar Eleitor</title>
{%endblock%}

{%block body%} 

{%for message in get_flashed_messages()%}
    <div class="alert alert-success alert-dismissible show container-sm" role="alert">
    {{message}} 
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    
{%endfor%}
    
<h1 class="text-center" >Cadastro de Eleitores</h1>
    
    <form action="{{url_for('adicionar_eleitor')}}" method="post" class="container-sm d-sm-flex d-flex flex-column mb-3">

        <fieldset class="container d-sm-flex d-flex flex-column mb-3 shadow-sm p-3 mb-5 bg-body-tertiary rounded">
        {{form.hidden_tag()}}
        
        
        <div class="input-group input-group-sm mb-3 container">
            {{form.cpf.label(class_='input-group-text', id='inputGroup-sizing-sm')}}
            {{form.cpf(class_='form-control', aria_label='Sizing example input', aria_describedby='inputGroup-sizing-sm')}}
        </div>
        
        {{form.submit(value='Cadastrar', class_='btn btn-outline-secondary align-self-center')}}
        
        </fieldset>

    </form>
    
    {%if eleitores%}
        <table class="table table-striped table-hover container" >
            <thead>
                <tr>
                    <th>ID</th>
                    <th>CPF</th>
                </tr>
            </thead>
            <tbody>
                {%for eleitor in eleitores%}
                <tr>
                    <td>{{eleitor.id}}</td>
                    <td>{{eleitor.cpf}}</td>
                    
                </tr>
                {%endfor%}
            </tbody>
        </table>
    {%else%}
        <p>Não há eleitores registrados!</p>
    {%endif%}

{%endblock%}